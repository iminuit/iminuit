
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>Full API Documentation &mdash; iminuit 1.0.6-dev documentation</title>

<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>


    
    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/jquery.lightbox-0.5.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.6-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/searchtools.js"></script>
    <script type="text/javascript" src="_static/js/jquery.lightbox-0.5.min.js"></script>
    <link rel="top" title="iminuit 1.0.6-dev documentation" href="index.html" />
    <link rel="prev" title="iminuit" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="iminuit"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">iminuit 1.0.6-dev documentation</a> &raquo;</li> 
      </ul>
    </div>
<a href="https://github.com/iminuit/probfit"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="full-api-documentation">
<span id="api-doc"></span><h1>Full API Documentation<a class="headerlink" href="#full-api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="quick-summary">
<h2>Quick Summary<a class="headerlink" href="#quick-summary" title="Permalink to this headline">¶</a></h2>
<p>These are the things you will use a lot.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#iminuit.util.describe" title="iminuit.util.describe"><tt class="xref py py-obj docutils literal"><span class="pre">util.describe</span></tt></a>(f[,&nbsp;verbose])</td>
<td>try to extract function arguements name</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iminuit.Minuit" title="iminuit.Minuit"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit</span></tt></a></td>
<td>Minuit(fcn, throw_nan=False, pedantic=True, frontend=None, forced_parameters=None, print_level=1, errordef=None, <a href="#id1"><span class="problematic" id="id2">**</span></a>kwds)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iminuit.Minuit.migrad" title="iminuit.Minuit.migrad"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.migrad</span></tt></a>(self,&nbsp;int&nbsp;ncall=10000[,&nbsp;resume])</td>
<td>Run migrad.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iminuit.Minuit.minos" title="iminuit.Minuit.minos"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.minos</span></tt></a>(self[,&nbsp;var,&nbsp;sigma])</td>
<td>Run minos for parameter <em>var</em></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iminuit.Minuit.values" title="iminuit.Minuit.values"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.values</span></tt></a></td>
<td>values: object</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iminuit.Minuit.args" title="iminuit.Minuit.args"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.args</span></tt></a></td>
<td>args: object</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iminuit.Minuit.errors" title="iminuit.Minuit.errors"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.errors</span></tt></a></td>
<td>errors: object</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iminuit.Minuit.get_merrors" title="iminuit.Minuit.get_merrors"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.get_merrors</span></tt></a>(self)</td>
<td>Returns a dictionary of varname-&gt; MinosError Struct</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iminuit.Minuit.fval" title="iminuit.Minuit.fval"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.fval</span></tt></a></td>
<td>fval: &#8216;double&#8217;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iminuit.Minuit.fitarg" title="iminuit.Minuit.fitarg"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.fitarg</span></tt></a></td>
<td>fitarg: object</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iminuit.Minuit.mnprofile" title="iminuit.Minuit.mnprofile"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.mnprofile</span></tt></a>(self,&nbsp;vname[,&nbsp;bins,&nbsp;bound,&nbsp;...])</td>
<td>calculate minos profile around specify range ie. Migrad results</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iminuit.Minuit.draw_mnprofile" title="iminuit.Minuit.draw_mnprofile"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.draw_mnprofile</span></tt></a>(self,&nbsp;vname[,&nbsp;bins,&nbsp;...])</td>
<td>Draw minos profile around specify range ie.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iminuit.Minuit.mncontour" title="iminuit.Minuit.mncontour"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.mncontour</span></tt></a>(self,&nbsp;x,&nbsp;y,&nbsp;int&nbsp;numpoints=20)</td>
<td>Minos contour scan.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iminuit.Minuit.mncontour_grid" title="iminuit.Minuit.mncontour_grid"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.mncontour_grid</span></tt></a>(self,&nbsp;x,&nbsp;y[,&nbsp;bins,&nbsp;...])</td>
<td>compute gridded minos contour.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iminuit.Minuit.draw_mncontour" title="iminuit.Minuit.draw_mncontour"><tt class="xref py py-obj docutils literal"><span class="pre">Minuit.draw_mncontour</span></tt></a>(self,&nbsp;x,&nbsp;y[,&nbsp;bins,&nbsp;...])</td>
<td>draw minos contour</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="minuit">
<h2>Minuit<a class="headerlink" href="#minuit" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="iminuit.Minuit">
<em class="property">class </em><tt class="descclassname">iminuit.</tt><tt class="descname">Minuit</tt><a class="headerlink" href="#iminuit.Minuit" title="Permalink to this definition">¶</a></dt>
<dd><p>Minuit(fcn, throw_nan=False, pedantic=True, frontend=None, forced_parameters=None, print_level=1, errordef=None, <a href="#id3"><span class="problematic" id="id4">**</span></a>kwds)</p>
<p>Construct minuit object from given <em>fcn</em></p>
<p><strong>Arguments:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>fcn</strong>: function to optimized. Minuit automagically find how to
call the function and each parameters. More information about how
Minuit detects function signature can be found in
<a class="reference internal" href="#function-sig-label"><em>Function Signature Extraction Ordering</em></a></li>
</ul>
</div></blockquote>
<p><strong>Builtin Keyword Arguments:</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>throw_nan</strong>: fcn can be set to raise RuntimeError when it
encounters <em>nan</em>. (Default False)</p>
</li>
<li><p class="first"><strong>pedantic</strong>: warns about parameters that do not have initial
value or initial error/stepsize set.</p>
</li>
<li><p class="first"><strong>frontend</strong>: Minuit frontend. There are two builtin frontends.</p>
<blockquote>
<div><ol class="arabic simple">
<li>ConsoleFrontend which is design to print out to terminal.</li>
<li>HtmlFrontend which is designed to give a nice output in
IPython notebook session.</li>
</ol>
</div></blockquote>
<p>By Default, Minuit switch to HtmlFrontend automatically if it
is called in IPython session. It uses ConsoleFrontend otherwise.</p>
</li>
<li><p class="first"><strong>forced_parameters</strong>: tell Minuit not to do function signature
detection and use this argument instead. (Default None
(automagically detect signature)</p>
</li>
<li><p class="first"><strong>print_level</strong>: set the print_level for this Minuit. 0 is quiet.
1 print out at the end of migrad/hesse/minos. The reason it
has this cAmEl case is to keep it compatible with PyMinuit.</p>
</li>
<li><p class="first"><strong>errordef</strong>: Optionals. Amount of increase in fcn to be defined
as 1 <span class="math">\(\sigma\)</span>. If None is given, it will look at
<cite>fcn.default_errordef()</cite>. If <cite>fcn.default_errordef()</cite> is not 
defined or
not callable iminuit will give a warning and set errordef to 1.
Default None(which means errordef=1 with a warning).</p>
</li>
</ul>
</div></blockquote>
<p><strong>Parameter Keyword Arguments:</strong></p>
<blockquote>
<div><p>Similar to PyMinuit. iminuit allows user to set initial value,
initial stepsize/error, limits of parameters and whether
parameter should be fixed or not by passing keyword arguments to
Minuit. This is best explained through an example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<ul>
<li><p class="first">Initial value(varname):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#initial value for x and y</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Initial step size/error(fix_varname):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#initial step size for x and y</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">error_x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">error_y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Limits (limit_varname=tuple):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#limits x and y</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">limit_x</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">limit_y</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p class="first">Fixing parameters:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#fix x but vary y</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">fix_x</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Tips: you can use python dictionary expansion to
programatically change fitting argument.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">kwdarg</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">error_x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="n">kwdarg</span><span class="p">)</span>
</pre></div>
</div>
<p>You can obtain also obtain fit arguments from Minuit object
to reuse it later too. Note that fitarg will be automatically
updated to minimum value and corresponding error when you ran
migrad/hesse:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">error_x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">my_fitarg</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">fitarg</span>
<span class="n">another_fit</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="n">my_fitarg</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div></blockquote>
<dl class="method">
<dt id="iminuit.Minuit.migrad">
<tt class="descname">migrad</tt><big>(</big><em>self</em>, <em>int ncall=10000</em>, <em>resume=True</em>, <em>int nsplit=1</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.migrad" title="Permalink to this definition">¶</a></dt>
<dd><p>Run migrad.</p>
<p>Migrad is an age-tested(over 40 years old, no kidding), super
robust and stable minimization algorithm. It even has
<a class="reference external" href="http://en.wikipedia.org/wiki/MINUIT">wiki page</a>.
You can read how it does the magic at
<a class="reference external" href="http://wwwasdoc.web.cern.ch/wwwasdoc/minuit/minmain.html">here</a>.</p>
<p><strong>Arguments:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>ncall</strong>: integer (approximate) maximum number of call before
migrad stop trying. Default 10000</li>
<li><strong>resume</strong>: boolean indicating whether migrad should resume from
previous minimizer attempt(True) or should start from the
beginning(False). Default True.</li>
<li><strong>split</strong>: split migrad in to <em>split</em> runs. Max fcn call
for each run is ncall/nsplit. Migrad stops when it found the
function minimum to be valid or ncall is reached. This is useful
for getting progress. However, you need to make sure that
ncall/nsplit is large enough. Otherwise, migrad will think
that the minimum is invalid due to exceeding max call
(ncall/nsplit). Default 1(no split).</li>
</ul>
</div></blockquote>
<p><strong>Return:</strong></p>
<blockquote>
<div><a class="reference internal" href="#function-minimum-sruct"><em>Function Minimum Struct</em></a>, list of <a class="reference internal" href="#minuit-param-struct"><em>Minuit Parameter Struct</em></a></div></blockquote>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.hesse">
<tt class="descname">hesse</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.hesse" title="Permalink to this definition">¶</a></dt>
<dd><p>Run HESSE.</p>
<p>HESSE estimates error matrix by the <a class="reference external" href="http://en.wikipedia.org/wiki/Hessian_matrix">second derivative at the minimim</a>. This error matrix
is good if your <span class="math">\(\chi^2\)</span> or likelihood profile is parabolic at
the minimum. From my experience, most of simple fits are.</p>
<p><a class="reference internal" href="#iminuit.Minuit.minos" title="iminuit.Minuit.minos"><tt class="xref py py-meth docutils literal"><span class="pre">minos()</span></tt></a> makes no parabolic assumption and scan the likelihood
and give the correct error asymmetric error in all cases(Unless your
likelihood profile is utterly discontinuous near the minimum). But
it is much more computationally expensive.</p>
<dl class="docutils">
<dt><strong>Returns</strong></dt>
<dd>list of <a class="reference internal" href="#minuit-param-struct"><em>Minuit Parameter Struct</em></a></dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.minos">
<tt class="descname">minos</tt><big>(</big><em>self</em>, <em>var=None</em>, <em>sigma=1.0</em>, <em>unsigned int maxcall=1000</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.minos" title="Permalink to this definition">¶</a></dt>
<dd><p>Run minos for parameter <em>var</em></p>
<p>If <em>var</em> is None it runs minos for all parameters</p>
<p><strong>Arguments:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>var</strong>: optional variable name. Default None.(run minos for
every variable)</li>
<li><strong>sigma</strong>: number of <span class="math">\(\sigma\)</span> error. Default 1.0.</li>
</ul>
</div></blockquote>
<p><strong>Returns</strong></p>
<blockquote>
<div>Dictionary of varname to <a class="reference internal" href="#minos-error-struct"><em>Minos Error Struct</em></a>
if minos is requested for all parameters.</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.args">
<tt class="descname">args</tt><a class="headerlink" href="#iminuit.Minuit.args" title="Permalink to this definition">¶</a></dt>
<dd><p>args: object</p>
<p>current values of parameters in form of tuple(var1,var2, ...)</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.values">
<tt class="descname">values</tt><a class="headerlink" href="#iminuit.Minuit.values" title="Permalink to this definition">¶</a></dt>
<dd><p>values: object</p>
<p>curret values of parameters in form of dictionary(name -&gt; value)</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.errors">
<tt class="descname">errors</tt><a class="headerlink" href="#iminuit.Minuit.errors" title="Permalink to this definition">¶</a></dt>
<dd><p>errors: object</p>
<p>curret values of parameters in form of dictionary(name -&gt; error)</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.fitarg">
<tt class="descname">fitarg</tt><a class="headerlink" href="#iminuit.Minuit.fitarg" title="Permalink to this definition">¶</a></dt>
<dd><p>fitarg: object</p>
<p>current value state in form of
dictionary(name-&gt;value, error_name-&gt;error, fix_name-&gt;fix
, limit_name-&gt;(lower, upper)).
This is very useful when you wan to save the fit parameters and
use it later. For example,:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">migrad</span><span class="p">()</span>
<span class="n">fitarg</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">fitarg</span>

<span class="n">m2</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="o">**</span><span class="n">fitarg</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.merrors">
<tt class="descname">merrors</tt><a class="headerlink" href="#iminuit.Minuit.merrors" title="Permalink to this definition">¶</a></dt>
<dd><p>merrors: object</p>
<p>last minos error in form of dictionary((name,1.0)-&gt;upper, (name,-1.0)
-&gt;lower). It is here for PyMinuit compatibility.</p>
<p>This is not recommend
use <a class="reference internal" href="#iminuit.Minuit.get_merrors" title="iminuit.Minuit.get_merrors"><tt class="xref py py-meth docutils literal"><span class="pre">get_merrors()</span></tt></a> which return dictionary of
name-&gt; <a class="reference internal" href="#minos-error-struct"><em>Minos Error Struct</em></a> instead.</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.fval">
<tt class="descname">fval</tt><a class="headerlink" href="#iminuit.Minuit.fval" title="Permalink to this definition">¶</a></dt>
<dd><p>fval: &#8216;double&#8217;</p>
<p>current function value</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#iminuit.Minuit.get_fmin" title="iminuit.Minuit.get_fmin"><tt class="xref py py-meth docutils literal"><span class="pre">get_fmin()</span></tt></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.edm">
<tt class="descname">edm</tt><a class="headerlink" href="#iminuit.Minuit.edm" title="Permalink to this definition">¶</a></dt>
<dd><p>edm: &#8216;double&#8217;</p>
<p>estimated distance to minimum</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#iminuit.Minuit.get_fmin" title="iminuit.Minuit.get_fmin"><tt class="xref py py-meth docutils literal"><span class="pre">get_fmin()</span></tt></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.covariance">
<tt class="descname">covariance</tt><a class="headerlink" href="#iminuit.Minuit.covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>covariance: object</p>
<p>covariance matrix in form of dictionary(v1,v2)-&gt;covariance</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#iminuit.Minuit.matrix" title="iminuit.Minuit.matrix"><tt class="xref py py-meth docutils literal"><span class="pre">matrix()</span></tt></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.gcc">
<tt class="descname">gcc</tt><a class="headerlink" href="#iminuit.Minuit.gcc" title="Permalink to this definition">¶</a></dt>
<dd><p>gcc: object</p>
<p>global correlation coefficiencts in form of
dict(varname-&gt;gcc)</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.errordef">
<tt class="descname">errordef</tt><a class="headerlink" href="#iminuit.Minuit.errordef" title="Permalink to this definition">¶</a></dt>
<dd><p>errordef: &#8216;double&#8217;</p>
<p>Amount of change in fcn that defines 1 <span class="math">\(sigma\)</span> error.
Default value is 1.0. <cite>errordef</cite> should be 1.0 for <span class="math">\(\chi^2\)</span> cost
funciton and 0.5 for negative log likelihood function.</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.tol">
<tt class="descname">tol</tt><a class="headerlink" href="#iminuit.Minuit.tol" title="Permalink to this definition">¶</a></dt>
<dd><p>tol: &#8216;double&#8217;</p>
<p>Tolerance. One fo migrad convergence criteria is edm &lt; maxedm.
Maxedm is calculated by 0.0001*tol*UP.</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.contour">
<tt class="descname">contour</tt><big>(</big><em>self</em>, <em>x</em>, <em>y</em>, <em>bins=20</em>, <em>bound=2</em>, <em>args=None</em>, <em>subtract_min=False</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>2D countour scan.</p>
<p>The contour returns is obtained by fixing all others parameters and
varying <strong>x</strong> and <strong>y</strong>.</p>
<p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>x</strong> variable name for X axis of scan</p>
</li>
<li><p class="first"><strong>y</strong> variable name for Y axis of scan</p>
</li>
<li><dl class="first docutils">
<dt><strong>bound</strong></dt>
<dd><p class="first last">If bound is 2x2 array [[v1min,v1max],[v2min,v2max]].
If bound is a number, it specifies how many <span class="math">\(\sigma\)</span>
symmetrically from minimum (minimum+- bound*:math:<cite>sigma</cite>).
Default 2</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>subtract_min</strong> subtract_minimum off from return value. This</dt>
<dd><p class="first last">makes it easy to label confidence interval. Default False.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Returns</strong></p>
<blockquote>
<div><p>x_bins, y_bins, values</p>
<p>values[y, x] &lt;&#8211; this choice is so that you can pass it
to through matplotlib contour()</p>
</div></blockquote>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#iminuit.Minuit.mncontour" title="iminuit.Minuit.mncontour"><tt class="xref py py-meth docutils literal"><span class="pre">mncontour()</span></tt></a></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If <cite>subtract_min=True</cite>, the return value has the minimum subtracted
off. The value on the contour can be interpreted <em>loosely</em> as
<span class="math">\(i^2 \times \textrm{up}\)</span> where i is number of standard
deviation away from the fitted value <em>WITHOUT</em> taking into account
correlation with other parameters that&#8217;s fixed.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.draw_contour">
<tt class="descname">draw_contour</tt><big>(</big><em>self</em>, <em>x</em>, <em>y</em>, <em>bins=20</em>, <em>bound=2</em>, <em>args=None</em>, <em>show_sigma=False</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.draw_contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenient wrapper for drawing contour. The argument is the same as
<a class="reference internal" href="#iminuit.Minuit.contour" title="iminuit.Minuit.contour"><tt class="xref py py-meth docutils literal"><span class="pre">contour()</span></tt></a>. If <cite>show_sigma=True`(Default), the label on the
contour lines will show how many :math:</cite>sigma` away from the optimal
value instead of raw value.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Like <a class="reference internal" href="#iminuit.Minuit.contour" title="iminuit.Minuit.contour"><tt class="xref py py-meth docutils literal"><span class="pre">contour()</span></tt></a>. The error shown on the plot is not strictly
1 <span class="math">\(\sigma\)</span> contour since the other parameters are fixed.</p>
</div>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#iminuit.Minuit.contour" title="iminuit.Minuit.contour"><tt class="xref py py-meth docutils literal"><span class="pre">contour()</span></tt></a>
<a class="reference internal" href="#iminuit.Minuit.mncontour" title="iminuit.Minuit.mncontour"><tt class="xref py py-meth docutils literal"><span class="pre">mncontour()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.draw_mncontour">
<tt class="descname">draw_mncontour</tt><big>(</big><em>self</em>, <em>x</em>, <em>y</em>, <em>bins=100</em>, <em>nsigma=2</em>, <em>numpoints=20</em>, <em>sigma_points=10</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.draw_mncontour" title="Permalink to this definition">¶</a></dt>
<dd><p>draw minos contour</p>
<p><strong>Arguments</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>x</strong>, <strong>y</strong> parameter name</li>
<li><strong>bins</strong> number of bin in contour grid.</li>
<li><strong>nsigma</strong> number of sigma contour to draw</li>
<li><strong>numpoint</strong> number of points to calculate for each contour</li>
<li><strong>sigma_res</strong> number of points between n*sigma and n+1*sigma to
calculate. Default(4)</li>
</ul>
</div></blockquote>
<p><strong>returns</strong></p>
<blockquote>
<div><p>x, y, gridvalue, contour</p>
<p>gridvalue is interorlated nsigma</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.draw_mnprofile">
<tt class="descname">draw_mnprofile</tt><big>(</big><em>self</em>, <em>vname</em>, <em>bins=30</em>, <em>bound=2</em>, <em>subtract_min=False</em>, <em>band=True</em>, <em>text=True</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.draw_mnprofile" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw minos profile around specify range ie. Migrad results
with <strong>vname</strong> fixed at various places within <strong>bound</strong></p>
<p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>vname</strong> variable name to scan</p>
</li>
<li><p class="first"><strong>bins</strong> number of scanning bin. Default 30.</p>
</li>
<li><dl class="first docutils">
<dt><strong>bound</strong></dt>
<dd><p class="first last">If bound is tuple, (left, right) scanning bound.
If bound is a number, it specifies how many <span class="math">\(\sigma\)</span>
symmetrically from minimum (minimum+- bound* <span class="math">\(\sigma\)</span>).
Default 2</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>subtract_min</strong> subtract_minimum off from return value. This</dt>
<dd><p class="first last">makes it easy to label confidence interval. Default False.</p>
</dd>
</dl>
</li>
<li><p class="first"><strong>band</strong> show green band to indicate the increase of fcn by
<em>errordef</em>. Default True.</p>
</li>
<li><p class="first"><strong>text</strong> show text for the location where the fcn is increased
by <em>errordef</em>. This is less accurate than <a class="reference internal" href="#iminuit.Minuit.minos" title="iminuit.Minuit.minos"><tt class="xref py py-meth docutils literal"><span class="pre">minos()</span></tt></a>.
Default True.</p>
</li>
</ul>
</div></blockquote>
<p><strong>Returns</strong></p>
<blockquote>
<div>bins(center point), value, migrad results</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">iminuit</span> <span class="kn">import</span> <span class="n">Minuit</span>


<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">print_level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pedantic</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">migrad</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">draw_mnprofile</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./pyplots/draw_mnprofile.py">Source code</a>, <a class="reference external" href="./pyplots/draw_mnprofile.png">png</a>, <a class="reference external" href="./pyplots/draw_mnprofile.hires.png">hires.png</a>, <a class="reference external" href="./pyplots/draw_mnprofile.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/draw_mnprofile.png" src="_images/draw_mnprofile.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.draw_profile">
<tt class="descname">draw_profile</tt><big>(</big><em>self</em>, <em>vname</em>, <em>bins=100</em>, <em>bound=2</em>, <em>args=None</em>, <em>subtract_min=False</em>, <em>band=True</em>, <em>text=True</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.draw_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenient wrapper for drawing profile using matplotlib</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is not a real minos profile. It&#8217;s just a simple 1D scan.
The number shown on the plot is taken from the green band.
They are not minos error. To get a real minos profile call
<a class="reference internal" href="#iminuit.Minuit.mnprofile" title="iminuit.Minuit.mnprofile"><tt class="xref py py-meth docutils literal"><span class="pre">mnprofile()</span></tt></a> or <a class="reference internal" href="#iminuit.Minuit.draw_mnprofile" title="iminuit.Minuit.draw_mnprofile"><tt class="xref py py-meth docutils literal"><span class="pre">draw_mnprofile()</span></tt></a></p>
</div>
<p><strong>Arguments</strong></p>
<blockquote>
<div><p>In addition to argument listed on <a class="reference internal" href="#iminuit.Minuit.profile" title="iminuit.Minuit.profile"><tt class="xref py py-meth docutils literal"><span class="pre">profile()</span></tt></a>. draw_profile
take these addition argument:</p>
<ul class="simple">
<li><strong>band</strong> show green band to indicate the increase of fcn by
<em>errordef</em>. Note again that this is NOT minos error in general.
Default True.</li>
<li><strong>text</strong> show text for the location where the fcn is increased
by <em>errordef</em>. This is less accurate than <a class="reference internal" href="#iminuit.Minuit.minos" title="iminuit.Minuit.minos"><tt class="xref py py-meth docutils literal"><span class="pre">minos()</span></tt></a>
Note again that this is NOT minos error in general. Default True.</li>
</ul>
</div></blockquote>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#iminuit.Minuit.mnprofile" title="iminuit.Minuit.mnprofile"><tt class="xref py py-meth docutils literal"><span class="pre">mnprofile()</span></tt></a>
<a class="reference internal" href="#iminuit.Minuit.draw_mnprofile" title="iminuit.Minuit.draw_mnprofile"><tt class="xref py py-meth docutils literal"><span class="pre">draw_mnprofile()</span></tt></a>
<a class="reference internal" href="#iminuit.Minuit.profile" title="iminuit.Minuit.profile"><tt class="xref py py-meth docutils literal"><span class="pre">profile()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.get_fmin">
<tt class="descname">get_fmin</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.get_fmin" title="Permalink to this definition">¶</a></dt>
<dd><p>return current FunctionMinimum Struct</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.get_initial_param_state">
<tt class="descname">get_initial_param_state</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.get_initial_param_state" title="Permalink to this definition">¶</a></dt>
<dd><p>get initiail setting inform of MinuitParameter Struct</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.get_merrors">
<tt class="descname">get_merrors</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.get_merrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of varname-&gt; MinosError Struct</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.get_num_call_fcn">
<tt class="descname">get_num_call_fcn</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.get_num_call_fcn" title="Permalink to this definition">¶</a></dt>
<dd><p>return number of total call to fcn(not just the last operation)</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.get_param_states">
<tt class="descname">get_param_states</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.get_param_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of current MinuitParameter Struct
for all parameters</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.is_clean_state">
<tt class="descname">is_clean_state</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.is_clean_state" title="Permalink to this definition">¶</a></dt>
<dd><p>check if minuit is at clean state ie. no migrad call</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.is_fixed">
<tt class="descname">is_fixed</tt><big>(</big><em>self</em>, <em>vname</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.is_fixed" title="Permalink to this definition">¶</a></dt>
<dd><p>check if variable <em>vname</em> is (initialy) fixed</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.latex_initial_param">
<tt class="descname">latex_initial_param</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.latex_initial_param" title="Permalink to this definition">¶</a></dt>
<dd><p>build <tt class="xref py py-class docutils literal"><span class="pre">iminuit.latex.LatexTable</span></tt> for initial
parameter</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.latex_matrix">
<tt class="descname">latex_matrix</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.latex_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Build <tt class="xref py py-class docutils literal"><span class="pre">LatexFactory</span></tt> object that contains correlation 
matrix</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.latex_param">
<tt class="descname">latex_param</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.latex_param" title="Permalink to this definition">¶</a></dt>
<dd><p>build <tt class="xref py py-class docutils literal"><span class="pre">iminuit.latex.LatexTable</span></tt> for current
parameter</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.list_of_fixed_param">
<tt class="descname">list_of_fixed_param</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.list_of_fixed_param" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of (initially) fixed parameters</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.list_of_vary_param">
<tt class="descname">list_of_vary_param</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.list_of_vary_param" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of (initially) float vary parameters</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.matrix">
<tt class="descname">matrix</tt><big>(</big><em>self</em>, <em>correlation=False</em>, <em>skip_fixed=True</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>return error/correlation matrix in tuple or tuple format.</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.matrix_accurate">
<tt class="descname">matrix_accurate</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.matrix_accurate" title="Permalink to this definition">¶</a></dt>
<dd><p>check if covariance(of the last migrad) is accurate.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">merrors</tt></dt>
<dd><p>merrors: object</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.merrors_struct">
<tt class="descname">merrors_struct</tt><a class="headerlink" href="#iminuit.Minuit.merrors_struct" title="Permalink to this definition">¶</a></dt>
<dd><p>merrors_struct: object</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.migrad_ok">
<tt class="descname">migrad_ok</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.migrad_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>check if minimum is valid</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.mncontour">
<tt class="descname">mncontour</tt><big>(</big><em>self</em>, <em>x</em>, <em>y</em>, <em>int numpoints=20</em>, <em>sigma=1.0</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.mncontour" title="Permalink to this definition">¶</a></dt>
<dd><p>Minos contour scan. A proper n <strong>sigma</strong> contour scan. This is line
where the minimum of fcn  with x,y is fixed at points on the line and
letting the rest of variable varied is change by <strong>sigma</strong> * errordef^2
. The calculation is very very expensive since it has to run migrad
at various points.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference external" href="http://wwwasdoc.web.cern.ch/wwwasdoc/minuit/node7.html">http://wwwasdoc.web.cern.ch/wwwasdoc/minuit/node7.html</a></p>
</div>
<p><strong>Arguments</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>x</strong> string variable name of the first parameter</li>
<li><strong>y</strong> string variable name of the second parameter</li>
<li><strong>numpoints</strong> number of points on the line to find. Default 20.</li>
<li><strong>sigma</strong> number of sigma for the contour line. Default 1.0.</li>
</ul>
</div></blockquote>
<p><strong>Returns</strong></p>
<blockquote>
<div><p>x minos error struct, y minos error struct, contour line</p>
<p>contour line is a list of the form
[[x1,y1]...[xn,yn]]</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.mncontour_grid">
<tt class="descname">mncontour_grid</tt><big>(</big><em>self</em>, <em>x</em>, <em>y</em>, <em>bins=100</em>, <em>nsigma=2</em>, <em>numpoints=20</em>, <em>int sigma_res=4</em>, <em>edges=False</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.mncontour_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>compute gridded minos contour.</p>
<p><strong>Arguments</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>x</strong>,**y** parameter name</li>
<li><strong>bins</strong> number of bins in the grid. The boundary of the grid is
selected automatically by the minos error computed. Default 100.</li>
<li><strong>nsigma</strong> number of sigma to draw. Default 2</li>
<li><strong>numpoints</strong> number of points to calculate mncontour for each
sigma points(there are sigma_res*nsigma total)</li>
<li><strong>sigma_res</strong> number of sigma level to calculate MnContours</li>
<li><strong>edges</strong> Return bin edges instead of mid value(pass True if you
want to draw it using pcolormesh)</li>
</ul>
</div></blockquote>
<p><strong>Returns</strong></p>
<blockquote>
<div><p>xgrid, ygrid, sigma, rawdata</p>
<p>rawdata is tuple of (x,y,sigma_level)</p>
</div></blockquote>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#iminuit.Minuit.draw_mncontour" title="iminuit.Minuit.draw_mncontour"><tt class="xref py py-meth docutils literal"><span class="pre">draw_mncontour()</span></tt></a></p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">iminuit</span> <span class="kn">import</span> <span class="n">Minuit</span>


<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">print_level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pedantic</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">migrad</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">draw_mncontour</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./pyplots/draw_mncontour.py">Source code</a>, <a class="reference external" href="./pyplots/draw_mncontour.png">png</a>, <a class="reference external" href="./pyplots/draw_mncontour.hires.png">hires.png</a>, <a class="reference external" href="./pyplots/draw_mncontour.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/draw_mncontour.png" src="_images/draw_mncontour.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.mnprofile">
<tt class="descname">mnprofile</tt><big>(</big><em>self</em>, <em>vname</em>, <em>bins=30</em>, <em>bound=2</em>, <em>subtract_min=False</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.mnprofile" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate minos profile around specify range ie. Migrad results
with <strong>vname</strong> fixed at various places within <strong>bound</strong></p>
<p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>vname</strong> variable name to scan</p>
</li>
<li><p class="first"><strong>bins</strong> number of scanning bin. Default 30.</p>
</li>
<li><dl class="first docutils">
<dt><strong>bound</strong></dt>
<dd><p class="first last">If bound is tuple, (left, right) scanning bound.
If bound is a number, it specifies how many <span class="math">\(\sigma\)</span>
symmetrically from minimum (minimum+- bound* <span class="math">\(\sigma\)</span>).
Default 2</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>subtract_min</strong> subtract_minimum off from return value. This</dt>
<dd><p class="first last">makes it easy to label confidence interval. Default False.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Returns</strong></p>
<blockquote>
<div>bins(center point), value, migrad results</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.narg">
<tt class="descname">narg</tt><a class="headerlink" href="#iminuit.Minuit.narg" title="Permalink to this definition">¶</a></dt>
<dd><p>narg: object</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.ncalls">
<tt class="descname">ncalls</tt><a class="headerlink" href="#iminuit.Minuit.ncalls" title="Permalink to this definition">¶</a></dt>
<dd><p>ncalls: &#8216;double&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.np_matrix">
<tt class="descname">np_matrix</tt><big>(</big><em>self</em>, <em>correlation=False</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.np_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>return error/correlation matrix in numpy array format.</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.parameters">
<tt class="descname">parameters</tt><a class="headerlink" href="#iminuit.Minuit.parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>parameters: object</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.pos2var">
<tt class="descname">pos2var</tt><a class="headerlink" href="#iminuit.Minuit.pos2var" title="Permalink to this definition">¶</a></dt>
<dd><p>pos2var: object</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.print_all_minos">
<tt class="descname">print_all_minos</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.print_all_minos" title="Permalink to this definition">¶</a></dt>
<dd><p>print all minos errors(and its states)</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.print_fmin">
<tt class="descname">print_fmin</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.print_fmin" title="Permalink to this definition">¶</a></dt>
<dd><p>print current function minimum state</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.print_initial_param">
<tt class="descname">print_initial_param</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.print_initial_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Print initial parameters</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.print_level">
<tt class="descname">print_level</tt><a class="headerlink" href="#iminuit.Minuit.print_level" title="Permalink to this definition">¶</a></dt>
<dd><p>print_level: object</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.print_matrix">
<tt class="descname">print_matrix</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.print_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>show error_matrix</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.print_param">
<tt class="descname">print_param</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.print_param" title="Permalink to this definition">¶</a></dt>
<dd><p>print current parameter state</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.profile">
<tt class="descname">profile</tt><big>(</big><em>self</em>, <em>vname</em>, <em>bins=100</em>, <em>bound=2</em>, <em>args=None</em>, <em>subtract_min=False</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.profile" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate cost function profile around specify range.</p>
<p><strong>Arguments</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>vname</strong> variable name to scan</p>
</li>
<li><p class="first"><strong>bins</strong> number of scanning bin. Default 100.</p>
</li>
<li><p class="first"><strong>bound</strong>
If bound is tuple, (left, right) scanning bound.
If bound is a number, it specifies how many <span class="math">\(\sigma\)</span>
symmetrically from minimum (minimum+- bound* <span class="math">\(\sigma\)</span>).
Default 2</p>
</li>
<li><dl class="first docutils">
<dt><strong>subtract_min</strong> subtract_minimum off from return value. This</dt>
<dd><p class="first last">makes it easy to label confidence interval. Default False.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Returns</strong></p>
<blockquote>
<div>bins(center point), value</div></blockquote>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#iminuit.Minuit.mnprofile" title="iminuit.Minuit.mnprofile"><tt class="xref py py-meth docutils literal"><span class="pre">mnprofile()</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.set_errordef">
<tt class="descname">set_errordef</tt><big>(</big><em>self</em>, <em>double errordef</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.set_errordef" title="Permalink to this definition">¶</a></dt>
<dd><p>set error parameter 1 for <span class="math">\(\chi^2\)</span> and 0.5 for log likelihood</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://wwwasdoc.web.cern.ch/wwwasdoc/minuit/node31.html">http://wwwasdoc.web.cern.ch/wwwasdoc/minuit/node31.html</a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.set_print_level">
<tt class="descname">set_print_level</tt><big>(</big><em>self</em>, <em>lvl</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.set_print_level" title="Permalink to this definition">¶</a></dt>
<dd><p>set printlevel 0 quiet, 1 normal, 2 paranoid, 3 really paranoid</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.set_strategy">
<tt class="descname">set_strategy</tt><big>(</big><em>self</em>, <em>stra</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.set_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>set strategy 0=fast , 1=default, 2=slow but accurate</p>
</dd></dl>

<dl class="method">
<dt id="iminuit.Minuit.set_up">
<tt class="descname">set_up</tt><big>(</big><em>self</em>, <em>double errordef</em><big>)</big><a class="headerlink" href="#iminuit.Minuit.set_up" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for <a class="reference internal" href="#iminuit.Minuit.set_errordef" title="iminuit.Minuit.set_errordef"><tt class="xref py py-meth docutils literal"><span class="pre">set_errordef()</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.strategy">
<tt class="descname">strategy</tt><a class="headerlink" href="#iminuit.Minuit.strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>strategy: &#8216;unsigned int&#8217;</p>
</dd></dl>

<dl class="attribute">
<dt id="iminuit.Minuit.var2pos">
<tt class="descname">var2pos</tt><a class="headerlink" href="#iminuit.Minuit.var2pos" title="Permalink to this definition">¶</a></dt>
<dd><p>var2pos: object</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="utility-functions">
<h2>Utility Functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h2>
<p>:mod:util module provides describe function and various function to manipulate
fitarguments.</p>
<span class="target" id="module-iminuit.util"></span><dl class="class">
<dt id="iminuit.util.Struct">
<em class="property">class </em><tt class="descclassname">iminuit.util.</tt><tt class="descname">Struct</tt><big>(</big><em>**kwds</em><big>)</big><a class="headerlink" href="#iminuit.util.Struct" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="iminuit.util.arguments_from_docstring">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">arguments_from_docstring</tt><big>(</big><em>doc</em><big>)</big><a class="headerlink" href="#iminuit.util.arguments_from_docstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse first line of docstring for argument name</p>
<blockquote>
<div>Docstring should be of the form &#8216;min(iterable[, key=func])</div></blockquote>
<dl class="docutils">
<dt>&#8216;.</dt>
<dd>It can also parse cython docstring of the form
Minuit.migrad(self[, int ncall_me =10000, resume=True, int nsplit=1])</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="iminuit.util.describe">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">describe</tt><big>(</big><em>f</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#iminuit.util.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>try to extract function arguements name</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#function-sig-label"><em>Function Signature Extraction Ordering</em></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="iminuit.util.fitarg_rename">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">fitarg_rename</tt><big>(</big><em>fitarg</em>, <em>ren</em><big>)</big><a class="headerlink" href="#iminuit.util.fitarg_rename" title="Permalink to this definition">¶</a></dt>
<dd><p>rename variable names in fitarg with rename function</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#simple renaming</span>
<span class="n">fitarg_rename</span><span class="p">({</span><span class="s">&#39;x&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;limit_x&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;fix_x&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;error_x&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
    <span class="k">lambda</span> <span class="n">pname</span><span class="p">:</span> <span class="s">&#39;y&#39;</span> <span class="k">if</span> <span class="n">pname</span><span class="o">==</span><span class="s">&#39;x&#39;</span> <span class="k">else</span> <span class="n">pname</span><span class="p">)</span>
<span class="c">#{&#39;y&#39;:1, &#39;limit_y&#39;:1, &#39;fix_y&#39;:1, &#39;error_y&#39;:1},</span>

<span class="c">#prefixing</span>
<span class="n">figarg_rename</span><span class="p">({</span><span class="s">&#39;x&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;limit_x&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;fix_x&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;error_x&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span>
    <span class="k">lambda</span> <span class="n">pname</span><span class="p">:</span> <span class="s">&#39;prefix_&#39;</span><span class="o">+</span><span class="n">pname</span><span class="p">)</span>
<span class="c">#{&#39;prefix_x&#39;:1, &#39;limit_prefix_x&#39;:1, &#39;fix_prefix_x&#39;:1, &#39;error_prefix_x&#39;:1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="iminuit.util.true_param">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">true_param</tt><big>(</big><em>p</em><big>)</big><a class="headerlink" href="#iminuit.util.true_param" title="Permalink to this definition">¶</a></dt>
<dd><p>check if p is parameter name not a limit/error/fix attributes</p>
</dd></dl>

<dl class="function">
<dt id="iminuit.util.param_name">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">param_name</tt><big>(</big><em>p</em><big>)</big><a class="headerlink" href="#iminuit.util.param_name" title="Permalink to this definition">¶</a></dt>
<dd><p>extract parameter name from attributes eg</p>
<p>fix_x -&gt; x
error_x -&gt; x
limit_x -&gt; x</p>
</dd></dl>

<dl class="function">
<dt id="iminuit.util.extract_iv">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">extract_iv</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#iminuit.util.extract_iv" title="Permalink to this definition">¶</a></dt>
<dd><p>extract initial value from fitargs dictionary</p>
</dd></dl>

<dl class="function">
<dt id="iminuit.util.extract_limit">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">extract_limit</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#iminuit.util.extract_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>extract limit from fitargs dictionary</p>
</dd></dl>

<dl class="function">
<dt id="iminuit.util.extract_error">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">extract_error</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#iminuit.util.extract_error" title="Permalink to this definition">¶</a></dt>
<dd><p>extract error from fitargs dictionary</p>
</dd></dl>

<dl class="function">
<dt id="iminuit.util.extract_fix">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">extract_fix</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#iminuit.util.extract_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>extract fix attribute from fitargs dictionary</p>
</dd></dl>

<dl class="function">
<dt id="iminuit.util.remove_var">
<tt class="descclassname">iminuit.util.</tt><tt class="descname">remove_var</tt><big>(</big><em>b</em>, <em>exclude</em><big>)</big><a class="headerlink" href="#iminuit.util.remove_var" title="Permalink to this definition">¶</a></dt>
<dd><p>exclude variable in exclude list from b</p>
</dd></dl>

</div>
<div class="section" id="return-value-struct">
<h2>Return Value Struct:<a class="headerlink" href="#return-value-struct" title="Permalink to this headline">¶</a></h2>
<p>iminuit uses various structs as return value. This section lists the struct
and all it&#8217;s field</p>
</div>
<div class="section" id="function-minimum-struct">
<span id="function-minimum-sruct"></span><h2>Function Minimum Struct<a class="headerlink" href="#function-minimum-struct" title="Permalink to this headline">¶</a></h2>
<p>They are usually return value from <tt class="xref py py-meth docutils literal"><span class="pre">Minuit.get_fmin()</span></tt>
and <tt class="xref py py-meth docutils literal"><span class="pre">Minuit.migrad()</span></tt>
Function Mimum Struct has the following attributes:</p>
<blockquote>
<div><ul>
<li><p class="first"><em>fval</em>: FCN minimum value</p>
</li>
<li><p class="first"><em>edm</em>: <a class="reference external" href="http://en.wikipedia.org/wiki/Minimum_distance_estimation">Estimated Distance to Minimum</a>.</p>
</li>
<li><p class="first"><em>nfcn</em>: Number of function call in last mimizier call</p>
</li>
<li><p class="first"><em>up</em>: UP parameter. This determine how minimizer define 1 <span class="math">\(\sigma\)</span>
error</p>
</li>
<li><dl class="first docutils">
<dt><em>is_valid</em>: Validity of function minimum. This is defined as</dt>
<dd><ul class="first last simple">
<li>has_valid_parameters</li>
<li>and not has_reached_call_limit</li>
<li>and not is_above_max_edm</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>has_valid_parameters</em>: Validity of parameters. This means:</dt>
<dd><ol class="first last arabic simple">
<li>The parameters must have valid error(if it&#8217;s not fixed).
Valid error is not necessarily accurate.</li>
<li>The parameters value must be valid</li>
</ol>
</dd>
</dl>
</li>
<li><p class="first"><em>has_accurate_covariance</em>: Boolean indicating whether covariance matrix
is accurate.</p>
</li>
<li><p class="first"><em>has_pos_def_covar</em>: Positive definiteness of covariance</p>
</li>
<li><p class="first"><em>has_made_posdef_covar</em>: Whether minimizer has to force covariance matrix
to be positive definite by adding diagonal matrix.</p>
</li>
<li><p class="first"><em>hesse_failed</em>: Successfulness of the hesse call after minimizer.</p>
</li>
<li><p class="first"><em>has_covaraince</em>: Has Covariance.</p>
</li>
<li><p class="first"><em>is_above_max_edm</em>: Is EDM above 0.0001*tolerance*up? The convergence
of migrad is defined by EDM being below this number.</p>
</li>
<li><p class="first"><em>has_reached_call_limit</em>: Whether the last minimizer exceeds number of
FCN calls it is allowd.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="minos-error-struct">
<span id="id5"></span><h2>Minos Error Struct<a class="headerlink" href="#minos-error-struct" title="Permalink to this headline">¶</a></h2>
<p>Minos Error Struct is used in return value from <tt class="xref py py-meth docutils literal"><span class="pre">Minuit.minos()</span></tt>.
You can also call <tt class="xref py py-meth docutils literal"><span class="pre">Minuit.get_merrors()</span></tt> to get accumulated dictionary
all minos errors that has been calculated. It contains various minos status:</p>
<blockquote>
<div><ul class="simple">
<li><em>lower</em>: lower error value</li>
<li><em>upper</em>: upper error value</li>
<li><em>is_valid</em>: Validity of minos error value. This means <cite>lower_valid</cite>
and <cite>upper_valid</cite></li>
<li><em>lower_valid</em>: Validity of lower error</li>
<li><em>upper_valid</em>: Validity of upper error</li>
<li><em>at_lower_limit</em>: minos calculation hits the lower limit on parameters</li>
<li><em>at_upper_limit</em>: minos calculation hits the upper limit on parameters</li>
<li><em>lower_new_min</em>: found a new minimum while scanning cost function for
lower error value</li>
<li><em>upper_new_min</em>: found a new minimum while scanning cost function for
upper error value</li>
<li><em>nfn</em>: number of call to FCN in the last minos scan</li>
<li><em>min</em>: the value of the parameter at the minimum</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="minuit-parameter-struct">
<span id="minuit-param-struct"></span><h2>Minuit Parameter Struct<a class="headerlink" href="#minuit-parameter-struct" title="Permalink to this headline">¶</a></h2>
<p>Minuit Parameter Struct is return value from <tt class="xref py py-meth docutils literal"><span class="pre">Minuit.hesse()</span></tt>
You can, however, access the latest parameter by calling
<tt class="xref py py-meth docutils literal"><span class="pre">Minuit.get_param_states()</span></tt>. Minuit Parameter Struct has the following
attrubutes:</p>
<blockquote>
<div><ul class="simple">
<li><em>number</em>: parameter number</li>
<li><em>name</em>: parameter name</li>
<li><em>value</em>: parameter value</li>
<li><em>error</em>: parameter parabolic error(like those from hesse)</li>
<li><em>is_fixed</em>: is the parameter fixed</li>
<li><em>is_const</em>: is the parameter a constant(We do not support const but
you can alway use fixing parameter instead)</li>
<li><em>has_limits</em>: parameter has limits set</li>
<li><em>has_lower_limit</em>: parameter has lower limit set. We do not support one
sided limit though.</li>
<li><em>has_upper_limit</em>: parameter has upper limit set.</li>
<li><em>lower_limit</em>: value of lower limit for this parameter</li>
<li><em>upper_limit</em>: value of upper limit for this parameter</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="function-signature-extraction-ordering">
<span id="function-sig-label"></span><h2>Function Signature Extraction Ordering<a class="headerlink" href="#function-signature-extraction-ordering" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Using <tt class="docutils literal"><span class="pre">f.func_code.co_varnames</span></tt>, <tt class="docutils literal"><span class="pre">f.func_code.co_argcount</span></tt>
All functions that is defined like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>Has these two attributes.</p>
</li>
<li><p class="first">Using <tt class="docutils literal"><span class="pre">f.__call__.func_code.co_varnames</span></tt>, <tt class="docutils literal"><span class="pre">f.__call__.co_argcount</span></tt>.
Minuit knows how to dock off self parameter. This allow you to do
things like encapsulate your data with in fitting algorithm:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyChi2</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">m</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">c</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">c</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">c</span><span class="p">)</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
                   <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)])</span>
</pre></div>
</div>
</li>
<li><p class="first">If all fail, Minuit will call <tt class="docutils literal"><span class="pre">inspect.getargspec</span></tt> for
function signature.
Builtin C functions will fall into this category since
they have no signature information. <tt class="docutils literal"><span class="pre">inspect.getargspec</span></tt> will parse
docstring to get function signature.</p>
</li>
</ol>
<p>This order is very similar to PyMinuit signature detection. Actually,
it is a superset of PyMinuit signature detection.
The difference is that it allows you to fake function
signature by having func_code attribute in the object. This allows you
to make a generic functor of your custom cost function. This is how
<a class="reference external" href="http://github.com/iminuit/probfit">probfit</a> was written:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">c</span><span class="p">:</span> <span class="n">m</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">c</span>
<span class="c">#the beauty here is that all you need to build</span>
<span class="c">#a Chi^2 is just your function and data</span>
<span class="k">class</span> <span class="nc">GenericChi2</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">describe</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="c">#extract function signature</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func_code</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span>
                <span class="n">co_varnames</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span><span class="c">#dock off independent param</span>
                <span class="n">co_argcount</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
            <span class="p">)</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">*</span><span class="n">arg</span><span class="p">)</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">Minuit</span><span class="p">(</span><span class="n">GenericChi2</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are unsure what minuit will parse your function signature as
, you can use <a class="reference internal" href="#iminuit.util.describe" title="iminuit.util.describe"><tt class="xref py py-func docutils literal"><span class="pre">describe()</span></tt></a> which returns tuple of arument names
minuit will use as call signature.</p>
</div>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Full API Documentation</a><ul>
<li><a class="reference internal" href="#quick-summary">Quick Summary</a></li>
<li><a class="reference internal" href="#minuit">Minuit</a></li>
<li><a class="reference internal" href="#utility-functions">Utility Functions</a></li>
<li><a class="reference internal" href="#return-value-struct">Return Value Struct:</a></li>
<li><a class="reference internal" href="#function-minimum-struct">Function Minimum Struct</a></li>
<li><a class="reference internal" href="#minos-error-struct">Minos Error Struct</a></li>
<li><a class="reference internal" href="#minuit-parameter-struct">Minuit Parameter Struct</a></li>
<li><a class="reference internal" href="#function-signature-extraction-ordering">Function Signature Extraction Ordering</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">iminuit</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="iminuit"
             >previous</a> |</li>
        <li><a href="index.html">iminuit 1.0.6-dev documentation</a> &raquo;</li> 
      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2012, Piti Ongmongkolkul.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>



<script type="text/javascript">
  var lightbox_setting = {
    imageLoading:'_static/images/lightbox-ico-loading.gif',
    imageBtnPrev:'_static/images/lightbox-btn-prev.gif',
    imageBtnNext:'_static/images/lightbox-btn-next.gif',
    imageBtnClose:'_static/images/lightbox-btn-close.gif',
    imageBlank:'_static/images/lightbox-blank.gif'
  }
  $('img.lightbox').each(function(){
    $(this).wrap('<a href="'+$(this).attr('src')+'" class="lb"/>')
  })
  $('a.lb').lightBox(lightbox_setting)
</script>

  </body>
</html>